
<!DOCTYPE html>
<html lang="">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Title Page</title>

		<!-- Bootstrap CSS -->
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.3/html5shiv.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body>
		<h1 class="text-center">Hello World Test</h1>
		<div id="app"></div>
		<script src="https://polyfill.io/v3/polyfill.min.js?features=Promise"></script>
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.1.2/handlebars.min.js"></script>
		  <script>
 (function(axios) {
  let fragmentFromString = function(strHTML) {
    return document.createRange().createContextualFragment(strHTML);
  }

  var get = function(options) {
    options = options || {};

    //  var {
    //    url = ,
    //      template = console.error('You must specify a template function in order to use this method.'),
    //      targetId = console.error('You must specify a targetId in order to use this method.'),
    //      successFn = function() {},
    //      failureFn = function() {},
    //      finallyFn = function() {}
    //  } =
    //  options || {};

    if (!options.url || !options.template || !options.targetId) {
      console.error('Unable to build template.');
      return;
    }

    return axios
      .get(options.url)
      .then(function(response) {
        return response.data
      })
      .then(function(data) {
		var template = Handlebars.compile(options.template);
		var html = template(data);
        document.getElementById(options.targetId).innerHTML = html;
      })
      .then(function() {})
      .catch(function() {})
      .finally(function() {});
  };

  var petsTemplate = "{{#each Data}}<p>{{AnimalName}}</p>{{/each}}";

  get({
    url: 'http://localhost:54727/api/pets?petType=dog&status=lost',
    templateUrl: '/sebin/d/i/pets.template.handlebars',
    targetId: 'app'
  });

})(axios);


		  </script>
	</body>
</html>
